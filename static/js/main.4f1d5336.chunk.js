(this["webpackJsonpgoit-react-hw-04-hoooks-images"]=this["webpackJsonpgoit-react-hw-04-hoooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__14DsY",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2KFW-"}},11:function(e,t,a){e.exports={Overlay:"Modal_Overlay__LNCpp",Modal:"Modal_Modal__XwXZB"}},13:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3DMEa"}},14:function(e,t,a){e.exports={Button:"Button_Button__3bfBq"}},24:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__wlK6T",SearchForm:"SearchBar_SearchForm__j7dvQ",SearchFormButton:"SearchBar_SearchFormButton__2-RsH",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__29cfL",SearchFormInput:"SearchBar_SearchFormInput__3wmPO"}},48:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(6),o=a.n(c),s=(a(24),a(12)),i=a(3),u=a(8),l=(a(25),a(26),a(4)),m=a.n(l),j=a(1);var b=function(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(i.a)(a,2),c=n[0],o=n[1];return Object(j.jsx)("header",{className:m.a.Searchbar,children:Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===e.target[1].value.trim())return u.b.error("Enter name of picture you are looking for!");t(c),o("")},className:m.a.SearchForm,children:[Object(j.jsx)("button",{type:"submit",className:m.a.SearchFormButton,children:Object(j.jsx)("span",{className:m.a.SearchFormButtonLabel,children:"Search"})}),Object(j.jsx)("input",{name:"inputValue",value:c,onChange:function(e){var t=e.target;o(t.value.toLowerCase().trim())},className:m.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},h=a(10),g=a.n(h);var f=function(e){var t=e.webformatURL,a=e.tags,r=e.largeImageURL,n=e.onOpen;return Object(j.jsx)("li",{className:g.a.ImageGalleryItem,children:Object(j.jsx)("img",{onClick:n,"data-source":r,src:t,alt:a,className:g.a.ImageGalleryItemImage})})},O=a(13),d=a.n(O);var p=function(e){var t=e.imgArr,a=e.onOpen;return Object(j.jsx)("ul",{className:d.a.ImageGallery,onClick:function(e){return a(e.target.dataset.source)},children:t.map((function(e){var t=e.webformatURL,a=e.id,r=e.tags,n=e.largeImageURL;return Object(j.jsx)(f,{id:a,tags:r,webformatURL:t,largeImageURL:n},a)}))})},v=a(14),S=a.n(v);function x(e){var t=e.onClick;return Object(j.jsx)("button",{type:"button",className:S.a.Button,onClick:t,children:"Load More"})}var _=a(15),I=a(16),y=a(19),w=a(18),L=a(17),B=a.n(L),k=function(e){Object(y.a)(a,e);var t=Object(w.a)(a);function a(){return Object(_.a)(this,a),t.apply(this,arguments)}return Object(I.a)(a,[{key:"render",value:function(){return Object(j.jsx)(B.a,{type:"Hearts",color:"#85309f",height:80,width:80,timeout:3e3,style:{position:"fixed",top:"50%",left:"47%"}})}}]),a}(r.Component),F=a(11),N=a.n(F);var C=function(e){var t=e.modalImg,a=e.modalClose;Object(r.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}));var n=function(e){"Escape"===e.key&&a()};return Object(j.jsx)("div",{className:N.a.Overlay,onClick:a,children:Object(j.jsx)("div",{className:N.a.Modal,children:Object(j.jsx)("img",{src:t,alt:""})})})};var G=function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("23793880-43251762e8c5681d941546cf6","&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error('No pictures "'.concat(e,'" were found')))}))},R="idle",U="pending",E="resolved",M="rejected";var A=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)([]),o=Object(i.a)(c,2),l=o[0],m=o[1],h=Object(r.useState)(1),g=Object(i.a)(h,2),f=g[0],O=g[1],d=Object(r.useState)(""),v=Object(i.a)(d,2),S=v[0],_=v[1],I=Object(r.useState)(R),y=Object(i.a)(I,2),w=y[0],L=y[1],B=Object(r.useState)(!1),F=Object(i.a)(B,2),N=F[0],A=F[1],D=Object(r.useState)(""),H=Object(i.a)(D,2),q=H[0],J=H[1],K=Object(r.useState)(!1),P=Object(i.a)(K,2),T=P[0],X=P[1];Object(r.useEffect)((function(){a&&(L(U),G(a,f).then((function(e){if(!e.hits.length)return L(M),alert("No such pictures, try again"),_((function(e){return"".concat(e,". Something went wrong, please try again")}));var t=e.hits.map((function(e){var t=e.id,a=e.tags;return{id:t,webformatURL:e.webformatURL,tags:a,largeImageURL:e.largeImageURL}}));m((function(e){return[].concat(Object(s.a)(e),Object(s.a)(t))})),L(E),X(!0),z()})).catch((function(e){_((function(e){return"".concat(e,". Something went wrong, please try again")})),L(M)})))}),[f,a]);var z=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},Q=function(e){A(!0),J(e)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u.a,{autoClose:3e3}),Object(j.jsx)(b,{onSubmit:function(e){n(e),m([]),O(1)}}),w===R&&Object(j.jsx)("h2",{className:"invitation",children:"Use Search above!"}),w===U&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p,{imgArr:l,onOpen:Q}),Object(j.jsx)(k,{})]}),w===M&&Object(j.jsx)("h1",{children:S.message}),w===E&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p,{imgArr:l,onOpen:Q}),T&&Object(j.jsx)(x,{onClick:function(){O(f+1),L(U)}})]}),N&&Object(j.jsx)(C,{modalImg:q,modalClose:function(){A(!1),J("")}})]})};o.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(A,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.4f1d5336.chunk.js.map