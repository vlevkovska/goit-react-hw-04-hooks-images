{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/SearchBar/SearchBar.module.css","Components/SearchBar/SearchBar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Components/Loader/Loader.jsx","Components/Modal/Modal.jsx","Services/API.jsx","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","inputValue","setInputValue","className","style","event","preventDefault","target","value","trim","toast","error","SearchForm","type","SearchFormButton","SearchFormButtonLabel","name","onChange","toLowerCase","SearchFormInput","autoComplete","autoFocus","placeholder","ImageGalleryItem","webformatURL","tags","largeImageURL","onOpen","onClick","src","alt","ImageGalleryItemImage","ImageGallery","imgArr","e","dataset","source","map","id","Button","Loader","color","height","width","timeout","position","top","left","Component","Modal","modalImg","modalClose","useEffect","window","addEventListener","closeModalByESC","removeEventListener","key","Overlay","FetchImages","img","page","fetch","then","response","ok","json","Promise","reject","Error","Status","App","setImgArr","pageNumber","setPageNumber","setError","status","setStatus","isModalOpen","setIsModalOpen","setLargeImageURL","handleLoadeMore","setHandleLoadeMore","hits","length","alert","data","prevState","scroll","catch","scrollTo","document","documentElement","scrollHeight","behavior","hendelOpenModal","autoClose","message","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4f1d5336.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__14DsY\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2KFW-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__LNCpp\",\"Modal\":\"Modal_Modal__XwXZB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3DMEa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3bfBq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__wlK6T\",\"SearchForm\":\"SearchBar_SearchForm__j7dvQ\",\"SearchFormButton\":\"SearchBar_SearchFormButton__2-RsH\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__29cfL\",\"SearchFormInput\":\"SearchBar_SearchFormInput__3wmPO\"};","import { toast } from \"react-toastify\";\r\nimport { useState } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\nimport style from \"./SearchBar.module.css\";\r\n\r\nfunction Searchbar({ onSubmit }) {\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n\r\n  const handleChange = ({ target }) => {\r\n    setInputValue(target.value.toLowerCase().trim());\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const { value } = event.target[1];\r\n    if (value.trim() === \"\") {\r\n      return toast.error(\"Enter name of picture you are looking for!\");\r\n    }\r\n    onSubmit(inputValue); // отпарвка данных\r\n    setInputValue(\"\"); // очищение формы\r\n  };\r\n\r\n  return (\r\n    <header className={style.Searchbar}>\r\n      <form onSubmit={handleSubmit} className={style.SearchForm}>\r\n        <button type=\"submit\" className={style.SearchFormButton}>\r\n          <span className={style.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          name=\"inputValue\"\r\n          value={inputValue}\r\n          onChange={handleChange}\r\n          className={style.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport style from \"./ImageGalleryItem.module.css\";\r\n\r\nfunction ImageGalleryItem({ webformatURL, tags, largeImageURL, onOpen }) {\r\n  return (\r\n    <li className={style.ImageGalleryItem}>\r\n      <img\r\n        onClick={onOpen}\r\n        data-source={largeImageURL}\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={style.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  id: PropTypes.number.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  onOpen: PropTypes.func,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport style from \"./ImageGallery.module.css\";\r\n\r\nfunction ImageGallery({ imgArr, onOpen }) {\r\n  return (\r\n    <ul\r\n      className={style.ImageGallery}\r\n      onClick={(e) => onOpen(e.target.dataset.source)}\r\n    >\r\n      {imgArr.map(({ webformatURL, id, tags, largeImageURL }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          id={id}\r\n          tags={tags}\r\n          webformatURL={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n          // onOpen={onOpen}\r\n        />\r\n      ))}\r\n      {/* {imgArr.map((imgArr) => (\r\n        <ImageGalleryItem key={imgArr.id} imgArr={imgArr} onOpen={onOpen} />\r\n      ))} */}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  imgArr: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    })\r\n  ),\r\n  onOpen: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from \"prop-types\";\r\nimport style from \"./Button.module.css\";\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button type=\"button\" className={style.Button} onClick={onClick}>\r\n      Load More\r\n    </button>\r\n  );\r\n}\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport ReactLoaderSpinner from \"react-loader-spinner\";\r\n\r\nexport default class Loader extends Component {\r\n  render() {\r\n    return (\r\n      <ReactLoaderSpinner\r\n        type=\"Hearts\"\r\n        color=\"#85309f\"\r\n        height={80}\r\n        width={80}\r\n        timeout={3000} //3 secs\r\n        style={{\r\n          position: \"fixed\",\r\n          top: \"50%\",\r\n          left: \"47%\",\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import { useEffect } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\nimport style from \"./Modal.module.css\";\r\n\r\nfunction Modal({ modalImg, modalClose }) {\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", closeModalByESC);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", closeModalByESC);\r\n    };\r\n  });\r\n\r\n  const closeModalByESC = (e) => {\r\n    if (e.key !== \"Escape\") {\r\n      return;\r\n    }\r\n    modalClose();\r\n  };\r\n\r\n  return (\r\n    <div className={style.Overlay} onClick={modalClose}>\r\n      <div className={style.Modal}>\r\n        <img src={modalImg} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Modal;\r\n","function FetchImages(img, page) {\r\n  const API_KEY = \"23793880-43251762e8c5681d941546cf6\";\r\n\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${img}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error(`No pictures \"${img}\" were found`));\r\n  });\r\n}\r\n\r\n// const imagesAPI = { FetchImages };\r\n\r\nexport default FetchImages;\r\n","import { useState, useEffect } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nimport Searchbar from \"./Components/SearchBar/SearchBar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport Button from \"./Components/Button/Button\";\nimport Loader from \"./Components/Loader/Loader\";\nimport Modal from \"./Components/Modal/Modal\";\nimport FetchImages from \"./Services/API\";\n\nconst Status = {\n  IDLE: \"idle\", // стоїть на місці\n  PENDING: \"pending\", // очікується\n  RESOLVED: \"resolved\", // виконалось\n  REJECTED: \"rejected\", // відхилено\n};\n\nfunction App() {\n  const [inputValue, setInputValue] = useState(\"\");\n  const [imgArr, setImgArr] = useState([]);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [error, setError] = useState(\"\");\n  const [status, setStatus] = useState(Status.IDLE);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [largeImageURL, setLargeImageURL] = useState(\"\");\n  const [handleLoadeMore, setHandleLoadeMore] = useState(false);\n\n  useEffect(() => {\n    if (!inputValue) {\n      return;\n    }\n    setStatus(Status.PENDING);\n    FetchImages(inputValue, pageNumber)\n      .then((imgArr) => {\n        if (!imgArr.hits.length) {\n          return (\n            setStatus(Status.REJECTED),\n            alert(\"No such pictures, try again\"),\n            // this.setState({\n            setError(\n              (error) => `${error}. Something went wrong, please try again`\n            )\n          );\n          //   status: \"rejected\",\n          // });\n        } else {\n          const data = imgArr.hits.map(\n            ({ id, tags, webformatURL, largeImageURL }) => {\n              return {\n                id,\n                webformatURL,\n                tags,\n                largeImageURL,\n              };\n            }\n          );\n          setImgArr((prevState) => {\n            return [...prevState, ...data];\n          });\n          setStatus(Status.RESOLVED);\n          setHandleLoadeMore(true);\n        }\n        scroll();\n      })\n      .catch((error) => {\n        setError((error) => `${error}. Something went wrong, please try again`);\n        setStatus(Status.REJECTED);\n      });\n  }, [pageNumber, inputValue]);\n\n  const scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n  const pageIncrement = () => {\n    setPageNumber(pageNumber + 1);\n    setStatus(Status.PENDING);\n  };\n\n  const handleSubmit = (inputValue) => {\n    setInputValue(inputValue);\n    setImgArr([]);\n    setPageNumber(1);\n  };\n\n  const hendelOpenModal = (img) => {\n    setIsModalOpen(true);\n    setLargeImageURL(img);\n  };\n\n  const hendelCloseModal = () => {\n    setIsModalOpen(false);\n    setLargeImageURL(\"\");\n  };\n\n  return (\n    <>\n      <ToastContainer autoClose={3000} />\n      <Searchbar onSubmit={handleSubmit} />\n      {status === Status.IDLE && (\n        <h2 className=\"invitation\">Use Search above!</h2>\n      )}\n      {status === Status.PENDING && (\n        <>\n          <ImageGallery imgArr={imgArr} onOpen={hendelOpenModal} />\n          <Loader />\n        </>\n      )}\n      {status === Status.REJECTED && <h1>{error.message}</h1>}\n      {status === Status.RESOLVED && (\n        <>\n          <ImageGallery imgArr={imgArr} onOpen={hendelOpenModal} />\n          {handleLoadeMore && <Button onClick={pageIncrement} />}\n        </>\n      )}\n      {isModalOpen && (\n        <Modal modalImg={largeImageURL} modalClose={hendelCloseModal} />\n      )}\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n// import reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}